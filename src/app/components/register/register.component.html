<!-- <app-navbar></app-navbar> -->
<div class="register-container">
  <div class="card">
    <div class="text-center">
      <h1>Register</h1>
      <h6>Please fill in your details to create an account</h6>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
      <!-- Full Name -->
      <div class="mb-3 input-group">
        <label for="fullName" class="form-label">Full Name</label>
        <input
          id="fullName"
          type="text"
          class="form-control"
          formControlName="fullName"
          placeholder="Enter your full name"
          autocomplete="name"
        />
        @if (fullName?.invalid && fullName?.touched) {
          <div class="form-text text-warning">
            @if (fullName?.errors?.['required']) { <div>Full name is required.</div> }
          </div>
        }
      </div>

      <!-- DOB -->
      <div class="mb-3 input-group">
        <label for="dob" class="form-label">Date of Birth</label>
        <input
          id="dob"
          type="date"
          class="form-control"
          formControlName="dob"
        />
        @if (dob?.invalid && dob?.touched) {
          <div class="form-text text-warning">
            @if (dob?.errors?.['required']) { <div>Date of birth is required.</div> }
          </div>
        }
      </div>

      <!-- Phone Number -->
      <div class="mb-3 input-group">
        <label for="phoneNumber" class="form-label">Phone Number</label>
        <input
          id="phoneNumber"
          type="tel"
          class="form-control"
          formControlName="phoneNumber"
          placeholder="Enter 10-digit phone number"
          autocomplete="tel"
        />
        @if (phoneNumber?.invalid && phoneNumber?.touched) {
          <div class="form-text text-warning">
            @if (phoneNumber?.errors?.['required']) { <div>Phone number is required.</div> }
            @if (phoneNumber?.errors?.['pattern']) { <div>Phone number must be 10 digits.</div> }
          </div>
        }
      </div>

      <!-- Email -->
      <div class="mb-3 input-group">
        <label for="email" class="form-label">Email address</label>
        <input
          id="email"
          type="email"
          class="form-control"
          formControlName="email"
          placeholder="Enter your email"
          autocomplete="email"
        />
       

        @if (email?.invalid && email?.touched) {
          <div class="form-text text-warning">
            @if (email?.errors?.['required']) { <div>Email is required.</div> }
            @if (email?.errors?.['email'])    { <div>Invalid email format.</div> }
          </div>
        }
      </div>

      <!-- Residential Address -->
      <div class="mb-3 input-group">
        <label for="residentialAddress" class="form-label">Residential Address</label> 
        <br>
        <textarea
          id="residentialAddress"
          class="form-control"
          formControlName="residentialAddress"
          placeholder="Enter your residential address"
          rows="3"
        ></textarea>
        @if (residentialAddress?.invalid && residentialAddress?.touched) {
          <div class="form-text text-warning">
            @if (residentialAddress?.errors?.['required']) { <div>Residential address is required.</div> }
          </div>
        }
      </div>

   <!-- Preferred Account Type -->
<div class="mb-3">
  <label class="form-label">Preferred Account Type</label>

  <div class="radio-row">
    <label class="form-check-inline radio-item">
      <input
        class="form-check-input"
        type="radio"
        formControlName="preferredAccountType"
        value="savings">
      <span>Savings Account</span>
    </label>

    <label class="form-check-inline radio-item">
      <input
        class="form-check-input"
        type="radio"
        formControlName="preferredAccountType"
        value="checking">
      <span>Current Account</span>
    </label>

    <label class="form-check-inline radio-item">
      <input
        class="form-check-input"
        type="radio"
        formControlName="preferredAccountType"
        value="joint">
      <span>Joint Account</span>
    </label>
  </div>
</div>



      <!-- Preferred Currency -->
<div class="mb-3">
  <label class="form-label">Preferred Currency</label>

  <div class="radio-row">
    <label class="radio-item">
      <input
        type="radio"
        class="form-check-input"
        formControlName="preferredCurrency"
        value="USD">
      <span>USD</span>
    </label>

    <label class="radio-item">
      <input
        type="radio"
        class="form-check-input"
        formControlName="preferredCurrency"
        value="EUR">
      <span>EUR</span>
    </label>

    <label class="radio-item">
      <input
        type="radio"
        class="form-check-input"
        formControlName="preferredCurrency"
        value="INR">
      <span>INR</span>
    </label>

    <label class="radio-item">
      <input
        type="radio"
        class="form-check-input"
        formControlName="preferredCurrency"
        value="OTHER">
      <span>Other</span>
    </label>
  </div>

  @if (preferredCurrency?.invalid && preferredCurrency?.touched) {
    <div class="form-text text-warning">
      Preferred currency is required.
    </div>
  }
</div>


      <!-- Initial Deposit Amount -->
      <div class="mb-3 input-group">
        <label for="initialDepositAmount" class="form-label">Initial Deposit Amount</label>
        <input
          id="initialDepositAmount"
          type="number"
          class="form-control"
          formControlName="initialDepositAmount"
          placeholder="Enter initial deposit amount"
          min="0"
        />
        @if (initialDepositAmount?.invalid && initialDepositAmount?.touched) {
          <div class="form-text text-warning">
            @if (initialDepositAmount?.errors?.['required']) { <div>Initial deposit amount is required.</div> }
            @if (initialDepositAmount?.errors?.['min']) { <div>Amount must be positive.</div> }
          </div>
        }
      </div>

      <!-- ID Type -->
      <div class="mb-3 input-group">
        <label for="idType" class="form-label">ID Type</label>
        <select id="idType" class="form-control" formControlName="idType">
          <option value="">Select ID Type</option>
          <option value="passport">Passport</option>
          <option value="drivers-license">Driver's License</option>
          <option value="national-id">National ID</option>
          <option value="other">Other</option>
        </select>
        @if (idType?.invalid && idType?.touched) {
          <div class="form-text text-warning">
            @if (idType?.errors?.['required']) { <div>ID type is required.</div> }
          </div>
        }
      </div>

      <!-- ID Number -->
      <div class="mb-3 input-group">
        <label for="idNumber" class="form-label">ID Number</label>
        <input
          id="idNumber"
          type="text"
          class="form-control"
          formControlName="idNumber"
          placeholder="Enter your ID number"
        />
        @if (idNumber?.invalid && idNumber?.touched) {
          <div class="form-text text-warning">
            @if (idNumber?.errors?.['required']) { <div>ID number is required.</div> }
          </div>
        }
      </div>

      <!-- Occupation -->
      <div class="mb-3 input-group">
        <label for="occupation" class="form-label">Occupation</label>
        <input
          id="occupation"
          type="text"
          class="form-control"
          formControlName="occupation"
          placeholder="Enter your occupation"
        />
        @if (occupation?.invalid && occupation?.touched) {
          <div class="form-text text-warning">
            @if (occupation?.errors?.['required']) { <div>Occupation is required.</div> }
          </div>
        }
      </div>
    <!--
          
             // Employer Name
      <div class="mb-3 input-group">
        <label for="employerName" class="form-label">Employer Name</label>
        <input
          id="employerName"
          type="text"
          class="form-control"
          formControlName="employerName"
          placeholder="Enter your employer name"
        />
        @if (employerName?.invalid && employerName?.touched) {
          <div class="form-text text-warning">
            @if (employerName?.errors?.['required']) { <div>Employer name is required.</div> }
          </div>
        }
      </div>
    -->

      <!-- Declaration Checkbox -->
      <div class="mb-3 input-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" formControlName="declaration" id="declaration">
          <label class="form-check-label" for="declaration">
            I confirm that the information provided is true and accurate.
          </label>
        </div>
        @if (declaration?.invalid && declaration?.touched) {
          <div class="form-text text-warning">
            @if (declaration?.errors?.['required']) { <div>You must confirm the declaration.</div> }
          </div>
        }
      </div>

      <!-- Date -->
      <div class="mb-3 input-group">
        <label for="date" class="form-label">Date</label>
        <input
          id="date"
          type="date"
          class="form-control"
          formControlName="date"
          readonly
        />
      </div>



      <!-- Password -->
      <div class="mb-3 input-group">
        <label for="password" class="form-label">Password</label>
        <input
          id="password"
          type="password"
          class="form-control"
          formControlName="password"
          placeholder="Enter your password"
          autocomplete="new-password"
        />
        @if (password?.invalid && password?.touched) {
          <div class="form-text text-warning">
            @if (password?.errors?.['required'])  { <div>Password is required.</div> }
            @if (password?.errors?.['minlength']) { <div>At least 8 characters.</div> }
          </div>
        }
      </div>

      <!-- Messages -->
      @if (error)   { <p class="error-message">{{ error }}</p> }
      @if (success) { <p class="success-message">{{ success }}</p> }

      <!-- Submit -->
      <button type="submit" class="btn btn-primary mb-2" [disabled]="registerForm.invalid || isSubmitting">
        @if (isSubmitting) { <span>Registeringâ€¦</span> } @else { <span>Register</span> }
      </button>
    </form>

    <a routerLink="/">Already have an account? Click to login!!</a>
  </div>
</div>
